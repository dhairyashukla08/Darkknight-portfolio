<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Darkknight</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      /* Custom CSS to apply Inter font to the entire body */
      body {
        font-family: "Inter", sans-serif;
      }
      /* Smooth scrolling for anchor links */
      html {
        scroll-behavior: smooth;
      }

      /* Keyframes for animations */
      @keyframes fadeInMoveUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-fade-in-up {
        animation: fadeInMoveUp 0.7s ease-out forwards;
        opacity: 0; /* Start invisible */
      }

      .delay-200 {
        animation-delay: 0.2s;
      }
      .delay-400 {
        animation-delay: 0.4s;
      }

      /* Custom style for the large background text */
      .hero-background-text {
        font-size: clamp(80px, 15vw, 250px);
        font-weight: 900;
        letter-spacing: 0.2em;
        opacity: 0.05; /* Kept subtle */
        white-space: nowrap;
        text-transform: uppercase;
      }

      /* Modal specific styles */
      .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 100; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0, 0, 0, 0.9); /* Black w/ opacity */
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        margin: auto;
        display: block;
        max-width: 90%;
        max-height: 90%;
        object-fit: contain; /* Ensure the image fits within the modal */
      }

      .modal-details {
        padding: 20px;
        text-align: center;
        color: #f8f8f8; /* Light gray text for details */
        background-color: #1a202c; /* Dark background for details */
        border-radius: 0 0 8px 8px;
      }

      .close-button {
        position: absolute;
        top: 20px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
      }

      .close-button:hover,
      .close-button:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .animate-fade-in {
        opacity: 0;
        animation: fadeIn 0.5s ease-out forwards;
      }

      /* Back to Top Button Styles */
      #back-to-top {
        transition: opacity 0.3s ease-in-out;
      }

      #back-to-top.visible {
        opacity: 1;
      }

      /* Modal Navigation Arrows */
      .modal-navigation {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 2rem;
        color: #f1f1f1;
        background: rgba(0, 0, 0, 0.5);
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        z-index: 101;
        opacity: 0.7;
        transition: opacity 0.3s ease;
      }

      .modal-navigation:hover {
        opacity: 1;
      }

      .modal-prev {
        left: 20px;
      }

      .modal-next {
        right: 20px;
      }
    </style>
  </head>
  <body class="bg-gray-950 text-gray-200">
    <nav class="bg-gray-900 text-white p-4 shadow-lg fixed w-full z-10 top-0">
      <div class="container mx-auto flex justify-between items-center px-4">
        <a href="#" class="text-2xl font-bold tracking-wide">Darkknight</a>
        <div class="hidden md:flex space-x-6">
          <a
            href="#home"
            class="hover:text-blue-400 transition-colors duration-300"
            >Home</a
          >
          <a
            href="#portfolio"
            class="hover:text-blue-400 transition-colors duration-300"
            >Portfolio</a
          >
          <a
            href="#about"
            class="hover:text-blue-400 transition-colors duration-300"
            >About</a
          >
          <a
            href="#contact"
            class="hover:text-blue-400 transition-colors duration-300"
            >Contact</a
          >
        </div>
        <div class="md:hidden">
          <button id="mobile-menu-button" class="text-white focus:outline-none">
            <svg
              class="w-8 h-8"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>
      </div>
      <div id="mobile-menu" class="md:hidden hidden bg-gray-800 px-4 pt-2 pb-4">
        <a
          href="#home"
          class="block py-2 px-4 text-sm hover:bg-gray-700 rounded-md transition-colors duration-300"
          >Home</a
        >
        <a
          href="#portfolio"
          class="block py-2 px-4 text-sm hover:bg-gray-700 rounded-md transition-colors duration-300"
          >Portfolio</a
        >
        <a
          href="#about"
          class="block py-2 px-4 text-sm hover:bg-gray-700 rounded-md transition-colors duration-300"
          >About</a
        >
        <a
          href="#contact"
          class="block py-2 px-4 text-sm hover:bg-gray-700 rounded-md transition-colors duration-300"
          >Contact</a
        >
      </div>
    </nav>

    <section
      id="home"
      class="relative h-screen flex items-center justify-center text-white bg-black overflow-hidden"
    >
      <div
        class="absolute inset-0 flex items-center justify-center z-0 select-none pointer-events-none"
      >
        <span class="text-gray-1800 hero-background-text">STREET</span>
      </div>

      <div class="text-center z-10 p-4 max-w-4xl mx-auto">
        <h1 class="text-5xl md:text-7xl font-extrabold mb-4 animate-fade-in-up">
          The Pulse of the Street
        </h1>
        <p
          class="text-lg md:text-2xl mb-8 animate-fade-in-up delay-200 text-gray-300"
        >
          Capturing candid moments and urban narratives.
        </p>
        <a
          href="#portfolio"
          class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 animate-fade-in-up delay-400"
          >View My Streets</a
        >
      </div>
    </section>

    <section id="portfolio" class="py-16 bg-gray-900 text-gray-100">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-4xl font-bold mb-8">My Street Work</h2>

        <div class="mb-8">
          <button
            class="filter-button inline-block px-4 py-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition duration-200 mr-2 active"
            data-filter="all"
          >
            All
          </button>
          <button
            class="filter-button inline-block px-4 py-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition duration-200 mr-2"
            data-filter="people"
          >
            People
          </button>
          <button
            class="filter-button inline-block px-4 py-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition duration-200 mr-2"
            data-filter="urban"
          >
            Urban
          </button>
          <button
            class="filter-button inline-block px-4 py-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition duration-200 mr-2"
            data-filter="abstract"
          >
            Abstract
          </button>
          <button
            class="filter-button inline-block px-4 py-2 rounded-full bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition duration-200"
            data-filter="night"
          >
            Night
          </button>
        </div>

        <div
          class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 portfolio-grid"
        >
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo1.jpg"
            data-title="City Gaze"
            data-description="A fleeting moment of introspection on a busy street."
            data-category="people urban"
          >
            <img
              src="images/photo1.jpg"
              alt="Candid Street Portrait"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">City Gaze</h3>
              <p class="text-sm text-gray-300">
                A fleeting moment of introspection on a busy street.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo2.jpeg"
            data-title="Alleyway Shadows"
            data-description="Playing with light and architecture in the urban sprawl."
            data-category="urban abstract"
          >
            <img
              src="images/photo2.jpeg"
              alt="Urban Landscape Photography"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">
                Alleyway Shadows
              </h3>
              <p class="text-sm text-gray-300">
                Playing with light and architecture in the urban sprawl.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo3.jpeg"
            data-title="Rushing Commute"
            data-description="The blur of movement in the morning rush."
            data-category="people urban"
          >
            <img
              src="images/photo3.jpeg"
              alt="Street Action Photography"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">
                Rushing Commute
              </h3>
              <p class="text-sm text-gray-300">
                The blur of movement in the morning rush.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo4.jpeg"
            data-title="Graffiti Layers"
            data-description="Finding art in the textures and colors of city walls."
            data-category="urban abstract"
          >
            <img
              src="images/photo4.jpeg"
              alt="Abstract Street Photography"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">
                Graffiti Layers
              </h3>
              <p class="text-sm text-gray-300">
                Finding art in the textures and colors of city walls.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo5.jpeg"
            data-title="Neon Glow"
            data-description="The vibrant life of the city after dark."
            data-category="urban night"
          >
            <img
              src="images/photo5.jpeg"
              alt="City Lights"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">Neon Glow</h3>
              <p class="text-sm text-gray-300">
                The vibrant life of the city after dark.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo6.jpeg"
            data-title="Daily Grind"
            data-description="A glimpse into the daily lives of street vendors."
            data-category="people urban"
          >
            <img
              src="images/photo6.jpeg"
              alt="Street Vendor"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">Daily Grind</h3>
              <p class="text-sm text-gray-300">
                A glimpse into the daily lives of street vendors.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo7.jpeg"
            data-title="Innocence Amidst Chaos"
            data-description="Capturing the resilience of children in urban settings."
            data-category="people urban"
          >
            <img
              src="images/photo7.jpeg"
              alt="Street Child"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">
                Innocence Amidst Chaos
              </h3>
              <p class="text-sm text-gray-300">
                Capturing the resilience of children in urban settings.
              </p>
            </div>
          </div>
          <div
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 group cursor-pointer image-card animate-fade-in"
            data-src="images/photo8.jpeg"
            data-title="Puddle Reflections"
            data-description="The city mirrored in unexpected places after the rain."
            data-category="urban abstract"
          >
            <img
              src="images/photo8.jpeg"
              alt="Street Reflection"
              loading="lazy"
              class="w-full h-64 object-cover object-center rounded-t-lg"
            />
            <div class="p-4">
              <h3 class="text-lg font-semibold mb-1 text-white">
                Puddle Reflections
              </h3>
              <p class="text-sm text-gray-300">
                The city mirrored in unexpected places after the rain.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <button
      id="back-to-top"
      class="fixed bottom-5 right-5 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full shadow-lg cursor-pointer transition-colors duration-300 opacity-0 z-20"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M5 15l7-7 7 7"
        ></path>
      </svg>
    </button>

    <section id="about" class="py-16 bg-gray-950 text-gray-200">
      <div class="container mx-auto px-4 text-center max-w-4xl">
        <h2 class="text-4xl font-bold mb-8">About Me: A Street Photographer</h2>
        <div class="flex flex-col md:flex-row items-center md:space-x-8">
          <div class="mb-6 md:mb-0 md:w-1/3">
            <img
              src="images/hero1.jpeg"
              alt="Your Photo"
              class="w-56 h-56 md:w-full md:h-auto rounded-full mx-auto shadow-lg object-cover"
            />
          </div>
          <div class="md:w-2/3 text-lg leading-relaxed text-gray-200">
            <p class="mb-4">
              Hello! I'm Dhairya Shukla, a street photographer based in
              Ahmedabad. My passion lies in observing the everyday theater of
              urban life, capturing candid moments, fleeting expressions, and
              the unique stories that unfold on the streets.
            </p>
            <p class="mb-4">
              With 1 year of experience, I specialize in documenting the raw,
              unfiltered essence of humanity within its urban environment. My
              lens is drawn to the interplay of light and shadow, the geometry
              of architecture, and the spontaneous interactions that define the
              rhythm of the city.
            </p>
            <p>
              When I'm not pounding the pavement with my camera, you can find me
              exploring new places around me and travelling. I believe that
              street photography is a dialogue between the photographer and the
              observed, a way to reveal the beauty and complexity hidden in
              plain sight.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="py-16 bg-gray-900 text-gray-100">
      <div class="container mx-auto px-4 text-center max-w-4xl">
        <h2 class="text-4xl font-bold mb-8">Connect with Me</h2>
        <p class="text-lg mb-8 text-gray-300">
          If you appreciate the art of street photography or have a
          collaboration in mind, I'd love to connect. Reach out and let's
          explore the city together.
        </p>

        <div class="flex flex-col md:flex-row md:space-x-8">
          <div class="md:w-1/2 mb-8 md:mb-0">
            <h3 class="text-2xl font-bold mb-4 text-left">Send Me a Message</h3>
            <form class="space-y-6 text-left">
              <div>
                <label
                  for="name"
                  class="block text-sm font-medium text-gray-200 mb-1"
                  >Name</label
                >
                <input
                  type="text"
                  id="name"
                  name="name"
                  class="mt-1 block w-full px-4 py-2 border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-800 text-white"
                  placeholder="Your Name"
                  required
                />
              </div>
              <div>
                <label
                  for="email"
                  class="block text-sm font-medium text-gray-200 mb-1"
                  >Email</label
                >
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="mt-1 block w-full px-4 py-2 border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-800 text-white"
                  placeholder="your.email@example.com"
                  required
                />
              </div>
              <div>
                <label
                  for="message"
                  class="block text-sm font-medium text-gray-200 mb-1"
                  >Message</label
                >
                <textarea
                  id="message"
                  name="message"
                  rows="5"
                  class="mt-1 block w-full px-4 py-2 border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-800 text-white"
                  placeholder="Tell me about your project or inquiry..."
                  required
                ></textarea>
              </div>
              <div class="text-center">
                <button
                  type="submit"
                  class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105"
                >
                  Send Message
                </button>
              </div>
            </form>
          </div>

          <div class="md:w-1/2 text-left md:mt-10">
            <h3 class="text-2xl font-bold mb-4">My Contact Details</h3>
            <div class="space-y-4">
              <p class="text-lg flex items-center">
                <i class="fas fa-envelope mr-3 text-blue-500 text-xl"></i>
                Email:
                <a
                  href="mailto:dhairyvshukla@gmail.com"
                  class="text-blue-500 hover:underline ml-2"
                  >dhairyvshukla@gmail.com</a
                >
              </p>
              <p class="text-lg flex items-center">
                <i class="fas fa-phone mr-3 text-blue-500 text-xl"></i> Phone:
                <a
                  href="tel:+91 8107681593"
                  class="text-blue-500 hover:underline ml-2"
                  >+91 8107681593</a
                >
              </p>
              <p
                id="dynamic-phrase"
                class="text-md text-gray-400 mt-6 transition-opacity duration-1000 ease-in-out"
              ></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="bg-gray-900 text-white py-8">
      <div class="container mx-auto px-4 text-center">
        <div class="flex justify-center space-x-6 mb-6">
          <a
            href="https://www.instagram.com/thatchotiwalaaaaaaladka?igsh=NTc4MTIwNjQ2YQ=="
            target="_blank"
            class="text-gray-400 hover:text-white transition-colors duration-300"
            ><i class="fab fa-instagram text-2xl"></i
          ></a>
          <a
            href="https://linkedin.com/in/yourprofile"
            target="_blank"
            class="text-gray-400 hover:text-white transition-colors duration-300"
            ><i class="fab fa-linkedin-in text-2xl"></i
          ></a>
        </div>
        <p class="text-sm">
          &copy; <span id="current-year"></span> Darkknight. All rights
          reserved.
        </p>
      </div>
    </footer>

    <div id="imageModal" class="modal">
      <span class="close-button">&times;</span>
      <div class="flex flex-col items-center justify-center h-full">
        <img class="modal-content" id="modalImage" />
        <div id="caption" class="modal-details">
          <h3 id="modalTitle" class="text-xl font-semibold mb-2"></h3>
          <p id="modalDescription" class="text-base"></p>
        </div>
      </div>
    </div>

    <script>
      // Toggle mobile menu visibility
      document
        .getElementById("mobile-menu-button")
        .addEventListener("click", function () {
          document.getElementById("mobile-menu").classList.toggle("hidden");
        });

      // Close mobile menu when a link is clicked
      document.querySelectorAll("#mobile-menu a").forEach((item) => {
        item.addEventListener("click", () => {
          document.getElementById("mobile-menu").classList.add("hidden");
        });
      });

      // Update current year in the footer
      document.getElementById("current-year").textContent =
        new Date().getFullYear();

      // --- Modal Functionality ---
      const imageModal = document.getElementById("imageModal");
      const modalImage = document.getElementById("modalImage");
      const modalTitle = document.getElementById("modalTitle");
      const modalDescription = document.getElementById("modalDescription");
      const closeButton = document.getElementsByClassName("close-button")[0];
      const imageCards = document.querySelectorAll(".image-card");

      imageCards.forEach((card) => {
        card.addEventListener("click", function () {
          imageModal.style.display = "flex"; // Use flex to center content
          modalImage.src = this.dataset.src;
          modalTitle.textContent = this.dataset.title;
          modalDescription.textContent = this.dataset.description;
        });
      });

      // Close the modal when the close button is clicked
      closeButton.addEventListener("click", function () {
        imageModal.style.display = "none";
      });

      // Close the modal when clicking anywhere outside the image/details
      imageModal.addEventListener("click", function (event) {
        if (event.target === imageModal) {
          imageModal.style.display = "none";
        }
      });

      // Close the modal with the Escape key
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape" && imageModal.style.display === "flex") {
          imageModal.style.display = "none";
        }
      });

      // --- Dynamic Contact Phrases ---
      const dynamicPhrases = [
        {
          text: "Let's capture stories together on the streets.",
          caption: "Photography is a story that cannot be told in words.",
        },
        {
          text: "Your vision, my lens. Let's create something extraordinary.",
          caption: "Every street has a tale to tell.",
        },
        {
          text: "Ready to document the unseen moments of the city?",
          caption: "The best photographs are moments captured, not staged.",
        },
        {
          text: "From candid shots to urban landscapes, I'm here to help.",
          caption: "Life is happening. Capture it.",
        },
        {
          text: "Let's make some street art with light and shadow.",
          caption: "Street photography is about the quiet observations.",
        },
      ];

      let currentPhraseIndex = 0;
      const dynamicPhraseElement = document.getElementById("dynamic-phrase");

      function updateDynamicPhrase() {
        dynamicPhraseElement.style.opacity = 0; // Start fade out
        setTimeout(() => {
          const phrase = dynamicPhrases[currentPhraseIndex];
          dynamicPhraseElement.textContent = phrase.caption; // Use caption here
          dynamicPhraseElement.style.opacity = 1; // Fade in
          currentPhraseIndex = (currentPhraseIndex + 1) % dynamicPhrases.length;
        }, 500); // Half of the transition duration for fade out
      }

      // Initial call to display the first phrase
      updateDynamicPhrase();
      // Set interval to change phrase every 5 seconds (5000 milliseconds)
      setInterval(updateDynamicPhrase, 3000);

      const filterButtons = document.querySelectorAll(".filter-button");
      const portfolioItems = document.querySelectorAll(
        ".portfolio-grid .image-card"
      );

      filterButtons.forEach((button) => {
        button.addEventListener("click", function () {
          const filter = this.dataset.filter;

          // Update active state of buttons
          filterButtons.forEach((btn) => btn.classList.remove("active"));
          this.classList.add("active");

          portfolioItems.forEach((item) => {
            const categories = item.dataset.category.split(" ");
            if (filter === "all" || categories.includes(filter)) {
              item.style.display = "block";
            } else {
              item.style.display = "none";
            }
          });
        });
      });

      // --- Back to Top Button ---
      const backToTopButton = document.getElementById("back-to-top");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) {
          backToTopButton.classList.add("visible");
        } else {
          backToTopButton.classList.remove("visible");
        }
      });

      backToTopButton.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });

      // --- Enhanced Modal Navigation ---
      let currentImageIndex = 0;
      let allImages = [];

      function updateModalContent(index) {
        if (index >= 0 && index < allImages.length) {
          const currentCard = allImages[index];
          modalImage.src = currentCard.dataset.src;
          modalTitle.textContent = currentCard.dataset.title;
          modalDescription.textContent = currentCard.dataset.description;
          currentImageIndex = index;
        }
      }

      imageCards.forEach((card, index) => {
        allImages.push(card);
        card.addEventListener("click", function () {
          imageModal.style.display = "flex";
          currentImageIndex = index;
          updateModalContent(currentImageIndex);
        });
      });

      const prevButton = document.createElement("div");
      prevButton.classList.add("modal-navigation", "modal-prev");
      prevButton.innerHTML = "&lsaquo;";
      imageModal.appendChild(prevButton);

      const nextButton = document.createElement("div");
      nextButton.classList.add("modal-navigation", "modal-next");
      nextButton.innerHTML = "&rsaquo;";
      imageModal.appendChild(nextButton);

      prevButton.addEventListener("click", (event) => {
        event.stopPropagation(); // Prevent modal close
        updateModalContent(Math.max(0, currentImageIndex - 1));
      });

      nextButton.addEventListener("click", (event) => {
        event.stopPropagation(); // Prevent modal close
        updateModalContent(
          Math.min(allImages.length - 1, currentImageIndex + 1)
        );
      });

      // Re-attach the global keydown listener if it was somehow detached
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape" && imageModal.style.display === "flex") {
          imageModal.style.display = "none";
        } else if (
          event.key === "ArrowLeft" &&
          imageModal.style.display === "flex"
        ) {
          updateModalContent(Math.max(0, currentImageIndex - 1));
        } else if (
          event.key === "ArrowRight" &&
          imageModal.style.display === "flex"
        ) {
          updateModalContent(
            Math.min(allImages.length - 1, currentImageIndex + 1)
          );
        }
      });
    </script>
  </body>
</html>
